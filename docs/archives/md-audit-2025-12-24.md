# Audit des nouveaux fichiers Markdown

Ce fichier recense les documents `.md` recemment ajoutes et resume les exigences
ou points d'attention qu'ils introduisent.

## [docs/agent-runtime.md](docs/agent-runtime.md)
- L'agent planifie uniquement : aucun appel direct aux tools ou a l'Executor.
- Les steps sont limites aux types `tool`, `capability` ou `usecase` avec `ref` et `params` obligatoires.
- L'agent doit toujours produire une Execution Envelope conforme aux schemas `contracts/envelope.schema.json` et `contracts/step.schema.json`.

Impact : nos definitions de capabilities et use cases restent conformes (suite de steps), mais il faut s'assurer que tout nouveau workflow agent respecte ces invariants lors des prochains ajouts.

## [docs/executor-runtime.md](docs/executor-runtime.md)
- L'Executor est deterministe, sans logique metier ni decisions ; il execute simplement les steps fournis.
- L'Executor ne doit pas appeler d'API directement ni persister de memoire en dehors de l'envelope.
- Les politiques `when`, `save` et `on_error` sont appliquees telles quelles.

Impact : les workflows executor existants devront etre verifies lors des mises a jour pour rester purement executionnels et stateless.

## [docs/tools-runtime.md](docs/tools-runtime.md)
- Un tool execute une seule operation API et retourne un `tool result` conforme a `contracts/tool-result.schema.json`.
- Aucun enchainement ou orchestration ne doit se trouver dans un tool.

Impact : lors de l'ajout ou la modification de tools (dans `config/tools/*.json` ou `workflows/tools/`), conserver ce caractere atomique.

## [docs/triggers-runtime.md](docs/triggers-runtime.md)
- Les triggers convertissent les evenements externes en envelopes, sans decider du use case.
- Les envelopes de trigger doivent etre valides (legacy ou execution) avec les champs de header requis.

Impact : tout nouveau trigger doit rester stateless et se limiter a la normalisation du payload entrant.

## [docs/utils-runtime.md](docs/utils-runtime.md)
- Les utilitaires sont deterministes, sans effets de bord et sans I/O externe.
- Ils servent a transformer ou valider des donnees.

Impact : toute evolution dans `workflows/utils/` doit preserver l'absence d'appel API et de logique metier.

## [docs/golden-workflows.md](docs/golden-workflows.md)
- Les golden workflows sont les implementations de reference, exportables/importables dans n8n sans credentiels locaux.
- Ils doivent rester alignes avec les schemas et specs runtime.

Impact : lors de la creation de nouveaux golden workflows dans `workflows/golden/`, eviter toute dependance locale ou divergence avec `/contracts`.

## Readme specifiques par repertoire (workflows/*)
- Chaque README (agent, executor, tools, triggers, utils, golden) rappelle les regles de scope : pas de logique metier dans les tools, planification cote agent, execution deterministe cote executor, etc.

Impact : verifier chaque workflow ajoute dans ces repertoires contre les regles locales et les specs runtime correspondantes.
